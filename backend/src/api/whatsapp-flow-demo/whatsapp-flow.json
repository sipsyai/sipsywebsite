{
  "version": "5.0",
  "data_api_version": "3.0",
  "routing_model": {
    "MAIN_MENU": ["SHIP_SELECT"],
    "SHIP_SELECT": ["MODULE_SELECT"],
    "MODULE_SELECT": ["MACHINE_LIST"],
    "MACHINE_LIST": ["UPDATE_HOURS"],
    "UPDATE_HOURS": ["CONFIRMATION"],
    "CONFIRMATION": []
  },
  "screens": [
    {
      "id": "MAIN_MENU",
      "title": "Port Management System",
      "terminal": false,
      "data": {
        "user_name": {
          "type": "string",
          "__example__": "Kaptan Ahmet"
        },
        "ships": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            }
          },
          "__example__": [
            {
              "id": "ship_001",
              "title": "MV ATLAS",
              "description": "Turkey | IMO: 9876543"
            }
          ]
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "HoÅŸgeldiniz ${data.user_name}"
          },
          {
            "type": "TextSubheading",
            "text": "LÃ¼tfen bir gemi seÃ§in:"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "selected_ship_id",
            "label": "Gemiler",
            "data-source": "${data.ships}",
            "required": true
          },
          {
            "type": "Footer",
            "label": "Devam Et",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "SHIP_SELECT"
              },
              "payload": {
                "selected_ship_id": "${form.selected_ship_id}"
              }
            }
          }
        ]
      }
    },
    {
      "id": "SHIP_SELECT",
      "title": "ModÃ¼l SeÃ§imi",
      "terminal": false,
      "data": {
        "ship_name": {
          "type": "string",
          "__example__": "MV ATLAS"
        },
        "modules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "title": {
                "type": "string"
              }
            }
          },
          "__example__": [
            {
              "id": "propulsion",
              "title": "ðŸš¢ Propulsion (Ä°tici Sistem)"
            },
            {
              "id": "electrical",
              "title": "âš¡ Electrical (Elektrik)"
            }
          ]
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "${data.ship_name}"
          },
          {
            "type": "TextSubheading",
            "text": "ModÃ¼l seÃ§in:"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "selected_module",
            "label": "ModÃ¼ller",
            "data-source": "${data.modules}",
            "required": true
          },
          {
            "type": "Footer",
            "label": "Devam Et",
            "on-click-action": {
              "name": "data_exchange",
              "payload": {
                "selected_module": "${form.selected_module}"
              }
            }
          }
        ]
      }
    },
    {
      "id": "MODULE_SELECT",
      "title": "Makine SeÃ§imi",
      "terminal": false,
      "data": {
        "machines": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            }
          },
          "__example__": [
            {
              "id": "machine_001",
              "title": "ME-01 - Ana Motor (Main Engine)",
              "description": "âœ… 50 hours until next maintenance | 12450 saat"
            }
          ]
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Makine SeÃ§in"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "selected_machine_id",
            "label": "Makineler",
            "data-source": "${data.machines}",
            "required": true
          },
          {
            "type": "Footer",
            "label": "GÃ¼ncelle",
            "on-click-action": {
              "name": "data_exchange",
              "payload": {
                "selected_machine_id": "${form.selected_machine_id}"
              }
            }
          }
        ]
      }
    },
    {
      "id": "MACHINE_LIST",
      "title": "Saat GÃ¼ncelleme",
      "terminal": false,
      "data": {
        "machine_code": {
          "type": "string",
          "__example__": "ME-01"
        },
        "machine_name": {
          "type": "string",
          "__example__": "Ana Motor (Main Engine)"
        },
        "current_hours": {
          "type": "number",
          "__example__": 12450
        },
        "next_maintenance": {
          "type": "number",
          "__example__": 12500
        },
        "version": {
          "type": "number",
          "__example__": 1
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "${data.machine_code}"
          },
          {
            "type": "TextSubheading",
            "text": "${data.machine_name}"
          },
          {
            "type": "TextBody",
            "text": "Mevcut Saat: ${data.current_hours}"
          },
          {
            "type": "TextBody",
            "text": "Sonraki BakÄ±m: ${data.next_maintenance}"
          },
          {
            "type": "TextInput",
            "name": "new_hours",
            "label": "Yeni Ã‡alÄ±ÅŸma Saati",
            "input-type": "number",
            "required": true,
            "helper-text": "Mevcut saatten bÃ¼yÃ¼k bir deÄŸer girin"
          },
          {
            "type": "Footer",
            "label": "GÃ¼ncelle",
            "on-click-action": {
              "name": "data_exchange",
              "payload": {
                "new_hours": "${form.new_hours}"
              }
            }
          }
        ]
      }
    },
    {
      "id": "UPDATE_HOURS",
      "title": "GÃ¼ncelleme TamamlandÄ±",
      "terminal": true,
      "data": {
        "success": {
          "type": "boolean",
          "__example__": true
        },
        "machine_code": {
          "type": "string",
          "__example__": "ME-01"
        },
        "machine_name": {
          "type": "string",
          "__example__": "Ana Motor"
        },
        "old_hours": {
          "type": "number",
          "__example__": 12450
        },
        "new_hours": {
          "type": "number",
          "__example__": 12480
        },
        "next_maintenance": {
          "type": "number",
          "__example__": 12500
        },
        "updated_at": {
          "type": "string",
          "__example__": "21.11.2025 14:30"
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "âœ… BaÅŸarÄ±lÄ±!"
          },
          {
            "type": "TextSubheading",
            "text": "${data.machine_code}"
          },
          {
            "type": "TextBody",
            "text": "${data.machine_name}"
          },
          {
            "type": "TextBody",
            "text": "Eski Saat: ${data.old_hours}"
          },
          {
            "type": "TextBody",
            "text": "Yeni Saat: ${data.new_hours}"
          },
          {
            "type": "TextBody",
            "text": "Sonraki BakÄ±m: ${data.next_maintenance}"
          },
          {
            "type": "TextBody",
            "text": "GÃ¼ncellenme: ${data.updated_at}"
          },
          {
            "type": "Footer",
            "label": "Tamam",
            "on-click-action": {
              "name": "complete",
              "payload": {}
            }
          }
        ]
      }
    },
    {
      "id": "CONFIRMATION",
      "title": "Ä°ÅŸlem TamamlandÄ±",
      "terminal": true,
      "data": {
        "message": {
          "type": "string",
          "__example__": "Working hours updated successfully! âœ…"
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "${data.message}"
          },
          {
            "type": "Footer",
            "label": "Kapat",
            "on-click-action": {
              "name": "complete",
              "payload": {}
            }
          }
        ]
      }
    }
  ]
}
